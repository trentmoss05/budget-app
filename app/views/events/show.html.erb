<h2>Event Info</h2>

<p>Name - <%= @event.name %></p>
<p>Budget - <%= number_to_currency(@event.budget) %></p>
<p><%=link_to "Edit", edit_event_path(@event)%></p>
<br>

<h2>Expenses</h2><br>
<table align="center" class="table">
  <tr>
    <th>#</th>
    <th>Name</th>
    <th>Cost</th>
    <th>Quantity</th>
    <th>Total</th>
  </tr>
<% @expenses.each do |expense| %>
  <tr>
    <td></td>
    <td><%= expense.name %></td>
    <td><%= number_to_currency(expense.cost) %></td>
    <td><%= expense.quantity %></td>
    <td><%= number_to_currency(expense.total) %></td>
    <td><%= link_to "Edit", edit_event_expense_path(expense.event_id, expense.id) %></td>
    <td><%= link_to "Delete", event_expense_path(expense.event_id, expense.id), method: :delete %></td>
  </tr>
<% end %>
</table>

<h4>Add an Expense</h4>

<%= form_for @expense, url: url_for(controller: 'expenses', action: 'create') do |f| %>
  <%= f.label :name %>
  <%= f.text_field :name %>
  <%= f.label :cost %>
  <%= f.number_field :cost, step: :any %>
  <%= f.label :quantity %>
  <%= f.number_field :quantity, value: 1 %>
  <%= f.hidden_field :event_id, value: params[:id] %>
  <%= f.submit "Add Expense", data: {disable_with: false} %>
  <% end %>
  <br>

<h3>Budget Remaining: <%= number_to_currency(@difference) %></h3>

<h2>Guest List</h2>
<ol>
  <% @guests.each do |guest| %>
    <li><%= guest.name %> <%= link_to "Remove", event_guest_path(guest.event_id, guest.id), method: :delete %></li>
  <% end %>
</ol>

<h4>Add a Guest</h4>

<%= form_for @guest, url: url_for(controller: 'guests', action: 'create') do |f| %>
  <%= f.label :name %>
  <%= f.text_field :name %>
  <%= f.hidden_field :event_id, value: params[:id] %>
  <%= f.submit "Add Guest to List" %>
<% end %>
